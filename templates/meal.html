{% extends 'base/base.html' %}

{% block content %}
	<div class="modal fade" tabindex="-1" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
			</div>
		</div>
	</div>

	<div class="panel-group" id="accordion">
		{% for meal in meals %}
			{% include 'meal/meal.html' with data_parent="accordion" %}
		{% endfor %}
	</div>

	<ul class="pager">
		{% if prev_day %}
			<li class="previous"><a href="{% url 'meal_view' prev_day|date:"Y-m-d" %}">&larr; {{ prev_day | date:"Y.m.d." }}</a></li>
		{% endif %}
		{% if next_day %}
			<li class="next"><a href="{% url 'meal_view' next_day|date:"Y-m-d" %}">{{ next_day | date:"Y.m.d." }} &rarr;</a></li>
		{% endif %}
	</ul>
{% endblock %}

{% block script %}
<script>
	var isHome = {{ isHome|yesno:"true,false" }};

	$(document).ready(function(){
		if(isHome){
			var hour = new Date().getHours();

			if(hour < 9) $('#breakfast').addClass('in');
			else if(9 <= hour && hour < 14) $('#lunch').addClass('in');
			else if(14 <= hour) $('#dinner').addClass('in');
		} else {
			$('#breakfast').addClass('in');
		}
	});

	$('body').on('hidden.bs.modal', '.modal', function(){
		$(this).removeData('bs.modal');
	});
</script>
{% endblock %}